üìö Lesta Test Application
–ü—Ä–æ–µ–∫—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç Django –∏ FastAPI –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –º–µ—Ç—Ä–∏–∫–∏ –∏ TF/IDF-–∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤.


üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

.
‚îú‚îÄ‚îÄ core/                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îú‚îÄ‚îÄ fastapi_app/           # –õ–æ–≥–∏–∫–∞ FastAPI
‚îú‚îÄ‚îÄ main/                  # Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–æ–¥–µ–ª–∏, views –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ media/                 # –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ static/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ staticfiles/           # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (collectstatic)
‚îú‚îÄ‚îÄ templates/             # HTML-—à–∞–±–ª–æ–Ω—ã Django
‚îú‚îÄ‚îÄ venv/                  # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ git)
‚îÇ
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore             # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îú‚îÄ‚îÄ baza.db                # SQLite-–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ combined_asgi.py       # –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Django –∏ FastAPI
‚îú‚îÄ‚îÄ manage.py              # Django CLI
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile             # Docker-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yaml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îú‚îÄ‚îÄ entrypoint.sh          # –°–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ nginx.conf             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt       # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞




üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (—Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
uvicorn combined_asgi:app --reload




üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker
# –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose up.




üß≠ –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1.0.0




üìù Changelog
–í–µ—Ä—Å–∏—è 1.0.0

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏, —á—Ç–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–†–∞—Å—á—ë—Ç TF/IDF —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞, –º–µ—Ç—Ä–∏–∫ –∏ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker –∏ Docker Compose




üåê –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
–í—Å–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api/`.

–ü—Ä–∏–º–µ—Ä:  
`POST /api/users/register` –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ `POST /users/register`

üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:  
- Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/api/docs`




üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–ú–µ—Ç–æ–¥	      Endpoint	     –û–ø–∏—Å–∞–Ω–∏–µ

POST	/users/register ------------>	–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

POST	/users/login ------------>	–í—Ö–æ–¥

GET	    /users/logout ------------>	–í—ã—Ö–æ–¥

PATCH	/users/update ------------>	–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è

DELETE	/users/delete ------------>	–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞




üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã
–ú–µ—Ç–æ–¥ 	      Endpoint	       –û–ø–∏—Å–∞–Ω–∏–µ

GET	/documents/	 ------------> –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

POST /documents/upload	------------> –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (.txt)

GET	/documents/{document_id} ------------>	–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

GET	/documents/{document_id}/statistics ------------>	TF/IDF —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

DELETE /documents/{document_id} ------------>	–£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

GET /documents/{document_id}/huffman ------------>  –ö–æ–¥ –•–∞—Ñ—Ñ–º–∞–Ω–∞




üìÅ –ö–æ–ª–ª–µ–∫—Ü–∏–∏
–ú–µ—Ç–æ–¥	        Endpoint	       –û–ø–∏—Å–∞–Ω–∏–µ

GET	/collections/	------------>  –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π

GET	/collections/{collection_id} ------------>  –î–æ–∫—É–º–µ–Ω—Ç—ã –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

GET	/collections/{collection_id}/statistics ------------> TF-IDF –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

POST /collections/{collection_id}/{document_id} ------------>  –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é

DELETE /collections/{cid}/{docid} ------------> –£–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏




üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å
–ú–µ—Ç–æ–¥	Endpoint	–û–ø–∏—Å–∞–Ω–∏–µ

GET	/status ------------> 	–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

GET	/metrics ------------>	–ú–µ—Ç—Ä–∏–∫–∏ (–≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤)

GET	/version ------------>	–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è





‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	          –û–ø–∏—Å–∞–Ω–∏–µ	        –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è

APP_PORT -	–ü–æ—Ä—Ç –∑–∞–ø—É—Å–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è	8000

DEBUG	 -  –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (True / False)	True

DJANGO_SETTINGS_MODULE  - 	–ü—É—Ç—å –∫ –º–æ–¥—É–ª—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ Django	core.settings

DJANGO_SECRET_KEY	 -  –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django	your-django-secret-key

JWT_SECRET_KEY  -  –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤	super-secret

ALGORITHM  - 	–ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è JWT	HS256

ACCESS_TOKEN_EXPIRE_MINUTES  -	–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ JWT-—Ç–æ–∫–µ–Ω–∞ (–≤ –º–∏–Ω—É—Ç–∞—Ö)	30

UPLOAD_DIR  - 	–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤	media/files

MEDIA_ROOT  -  	–ö–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤	media

STATIC_ROOT  - 	–ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤	staticfiles




